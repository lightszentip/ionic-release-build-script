{"name":"Ionic-release-build-script","tagline":"Build script with gulp to release and create apk with ionic and new Version, also tasks to update the version and commit the changes.","body":"# ionic-release-build-script\r\nBuild script with gulp to release and create apk with ionic and new Version, also tasks to update the version and commit the changes.\r\n\r\n## HowTo Preparation\r\n* 1. Create a new Ionic Project or add the gulpfile.js to your ionic project\r\n* 2. Add dependencies to your package.json \r\n```\r\n  \"devDependencies\": {\r\n      \"bower\": \"^1.3.3\",\r\n      \"del\": \"^2.2.0\",\r\n      \"grunt\": \"^0.4.5\",\r\n      \"gulp\": \"^3.9.0\",\r\n      \"gulp-bump\": \"^1.0.0\",\r\n      \"gulp-clean\": \"^0.3.1\",\r\n      \"gulp-edit-xml\": \"^2.0.0\",\r\n      \"gulp-filter\": \"^3.0.1\",\r\n      \"gulp-git\": \"^1.6.1\",\r\n      \"gulp-if\": \"^2.0.0\",\r\n      \"gulp-jshint\": \"^2.0.0\",\r\n      \"gulp-load-plugins\": \"^1.1.0\",\r\n      \"gulp-merge\": \"^0.1.1\",\r\n      \"gulp-open\": \"^1.0.0\",\r\n      \"gulp-regex-replace\": \"^0.2.3\",\r\n      \"gulp-replace\": \"^0.5.4\",\r\n      \"gulp-tag-version\": \"^1.3.0\",\r\n      \"gulp-task-listing\": \"^1.0.1\",\r\n      \"gulp-uglify\": \"^1.5.1\",\r\n      \"gulp-util\": \"^2.2.14\",\r\n      \"gulp-xml-editor\": \"^2.2.1\",\r\n      \"gulp-concat\": \"^2.2.0\",\r\n      \"gulp-rename\": \"^1.2.0\",\r\n      \"minimist\": \"^1.2.0\",\r\n      \"moment\": \"^2.11.0\",\r\n      \"q\": \"^1.4.1\",\r\n      \"run-sequence\": \"^1.1.5\",\r\n      \"semver\": \"^5.1.0\",\r\n      \"shelljs\": \"^0.3.0\",\r\n      \"yargs\": \"^3.31.0\"\r\n    },\r\n```\r\n* 3. Update your node modules with `npm install`\r\n* 4. Add the following keys to your package.json (is necessary for config.xml and AndroidManifest.xml)\r\n  \"name\": \"nameofyourapp\",\r\n  \"version\": \"VersionForYourAppForExample:0.0.1\",\r\n  \"description\": \"DescriptionForYourApp\",\r\n  \"author\": \"AuthorNAme\",\r\n  \"authorEmail\": \"YourMailAddress\",\r\n  \"authorUrl\": \"YourUrl\",\r\n* 5. Call `gulp help` at your command line \r\n\r\n## Create a new apk with new version\r\n\r\nPlease call\r\n\r\n`gulp createNewRelease --envType patch` for an new apk with new patch version\r\n\r\n`gulp createNewRelease --envType minor` for an new apk with new minor version\r\n\r\n`gulp createNewRelease --envType major` for an new apk with new major version\r\n\r\n`gulp createNewRelease --envType prerelease` for an new apk with new prerelease version\r\n\r\n\r\nThe default envType is patch if you only call `gulp createNewRelease`\r\n\r\nAfter a success build you find in `release_builds` a new apk with `android-release-zipalign-MMDDYYYY-hhmmss-versionnumber.apk` and a new tag with versionnumber.\r\n\r\n## Tasks\r\n\r\n```\r\nMain Tasks\r\n------------------------------\r\n    cleanBuild\r\n    commitAndTag\r\n    createNewRelease\r\n    help\r\n    updateInfos\r\n    versionFeature\r\n    versionPatch\r\n    versionPrerelease\r\n    versionRelease\r\n\r\nSub Tasks\r\n------------------------------\r\n    build-debug\r\n    build-release\r\n```\r\n\r\n* help: Show all tasks\r\n* cleanBuild: Clean the build dir in platforms/Android\r\n* commitAndTag: Create an new commit for config.xml and package.json and create a tag by version from package.json\r\n* createNewRelease: Change the version in package.json, create a new android apk release and commit and tag the result.\r\n* updateInfos: Change the author.*, description and name values in config.xml by package.json\r\n* build-release: Create a new apk with the version from package.json without changes on versionnumber or git\r\n\r\nFor the following tasks read also http://semver.org/ (the version changes are only in config.xml and package.json - AndroidManifest is update by ionic release build)\r\n* versionFeature: Set a new feature version - for example from 0.0.1 to 0.1.0 \r\n* versionPatch: Set a new patch version - for example from 0.0.1 to 0.0.2\r\n* versionPrerelease: Set a new prerelease version - for example from 0.1.0 to 1.0.0-1\r\n* versionRelease: Set a new release version - for example from 1.0.5 to 2.0.0\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}